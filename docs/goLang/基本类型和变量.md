---
title: Go的入坑之旅
date: 2020-09-05
tags:
- 服务端
- Go
categories:
- Go
---

#### 第一个程序解释

```go
package main

import "fmt"

func main() {
   fmt.Println("Hello, World!")
}
```

* package在同一个包下面的文件所属一个工程文件，不用import
* 在同一个包下面的所有文件package名是一样的
* 在同一个包下面的文件package名都建议设为是该目录名，但也可以不是

* import "fmt" 告诉 Go 编译器这个程序需要使用 fmt 包的函数，fmt 包实现了格式化 IO（输入/输出）的函数

```go
import(
 . "fmt"
)
//
fmt.Println("hello world") => Println("hello world")

import(
 f "fmt"
)
f.Println("hello world")

```

* _操作符

```go
import (
  "database/sql"
  _ "github.com/ziutek/mymysql/godrv"
)
```

_操作其实是引入该包，而不直接使用包里面的函数，而是调用了该包里面的init函数

* main函数
程序的入口函数,是命令源码文件包含无参数声明和结果声明的 main 函数。

多个命令源码文件虽然可以分开单独 go run 运行起来，但是无法通过 go build 和 go install。

同理，如果命令源码文件和库源码文件也会出现这样的问题，库源码文件不能通过 go build 和 go install 这种常规的方法编译和安装。

所以命令源码文件应该是被单独放在一个代码包中。

#### 基本数据类型定义

再变量定义时，如果不指定初始值，则会被隐式的赋值

如果一个变量有一个初始值，Go将自动能够使用初始值来推断该变量的类型。因此，如果变量具有初始值，则可以省略变量声明中的类型。

省略var, 注意 :=左侧的变量不应该是已经声明过的(多个变量同时声明时，至少保证一个是新变量)，否则会导致编译错误(简短声明)

我们不可以再次对于相同名称的变量使用初始化声明，例如：a := 20 就是不被允许的，编译器会提示错误 no new variables on left side of :=，但是 a = 20 是可以的，因为这是给相同的变量赋予一个新的值。

* 字符串

var name type

```golang
str := "hello"
var age int

// 例如
var a int = 10
var b = 10
c : = 10

```

#### 常量声明

const identifier [type] = value

```go
package main

import "fmt"

func main() {
   const LENGTH int = 10
   const WIDTH int = 5
   var area int
   const a, b, c = 1, false, "str" //多重赋值

   area = LENGTH * WIDTH
   fmt.Printf("面积为 : %d", area)
   println()
   println(a, b, c)
}
```

#### 键盘输入和打印输出

* 输出

```go
package main

import (
 "fmt"
)

func main() {
 a := 100           //int
 b := 3.14          //float64
 c := true          // bool
 d := "Hello World" //string
 e := `Ruby`        //string
 f := 'A'
 fmt.Printf("%T,%b\n", a, a)
 fmt.Printf("%T,%f\n", b, b)
 fmt.Printf("%T,%t\n", c, c)
 fmt.Printf("%T,%s\n", d, d)
 fmt.Printf("%T,%s\n", e, e)
 fmt.Printf("%T,%d,%c\n", f, f, f)
 fmt.Println("-----------------------")
 fmt.Printf("%v\n", a)
 fmt.Printf("%v\n", b)
 fmt.Printf("%v\n", c)
 fmt.Printf("%v\n", d)
 fmt.Printf("%v\n", e)
 fmt.Printf("%v\n", f)

}
```

* 键盘输入

```gopackage main

import (
 "fmt"
)

func main() {
 var x int
 var y float64
 fmt.Println("请输入一个整数，一个浮点类型：")
 fmt.Scanln(&x,&y)//读取键盘的输入，通过操作地址，赋值给x和y   阻塞式
 fmt.Printf("x的数值：%d，y的数值：%f\n",x,y)

 fmt.Scanf("%d,%f",&x,&y)
 fmt.Printf("x:%d,y:%f\n",x,y)
}

```
