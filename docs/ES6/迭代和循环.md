---
title: 迭代器和循环
date: 2020-10-13
tags:
- ES6
categories:
- ES6
---

#### 迭代器

所谓迭代器，其实就是一个具有 next() 方法的对象，每次调用 next() 都会返回一个结果对象，该结果对象有两个属性，value 表示当前的值，done 表示遍历是否结束。

* 使用ES5的方法创建一个迭代器

```javascript
function createIterator(item){

  var i = 0

  return {
    next:function(){
      var done = i >= item.length
      var value = !done ? item[i++]: undefined
      return {
        done:done,
        value:value
      }
    },
  }

}

```

* 使用for of 遍历生成的迭代器对象
* 直接使用会报错，不可遍历
* ES6 规定，默认的 Iterator 接口部署在数据结构的 Symbol.iterator 属性，或者说，一个数据结构只要具有 Symbol.iterator 属性，就可以认为是"可遍历的"（iterable）。

```javascript
var iterator = createIterator([1, 2, 3]);

for (let value of iterator) {
    console.log(value);
}
```

#### ES6的默认可遍历对象

* 数组
* Set
* Map
* 类数组对象，arguments，Dom NodeList
* Generator对象
* 字符串
